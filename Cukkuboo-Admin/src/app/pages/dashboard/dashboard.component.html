<div class="content-container">

  <!-- Dashboard Cards -->
  <div class="dashboard-row">
    <mat-card class="dashboard-card red-card">
      <div class="card-title"># Subscribers</div>
      <div class="card-value">{{ totalSubscribers }}</div>
    </mat-card>

    <mat-card class="dashboard-card black-card">
      <div class="card-title"># Movies</div>
      <div class="card-value">{{ totalMovies }}</div>
    </mat-card>

    <mat-card class="dashboard-card red-card">
      <div class="card-title">Monthly Active Users</div>
      <div class="card-value">{{ subscribersThisMonth }}</div>
    </mat-card>

    <mat-card class="dashboard-card black-card">
      <div class="card-title">Monthly Revenue</div>
<div class="card-value"><i class="bi bi-currency-dollar"></i>{{ revenueThisMonth }}</div>
    </mat-card>
  </div>

  <!-- Latest Movies -->
  <div class="latest-content-card">
    <mat-card class="latest-card">
      <h2>Latest Movies</h2>
      <ul>
        <li *ngFor="let content of latestContent">
          <span class="content-title truncate-text">{{ content.title }}</span>
          <span class="content-date">{{ content.release_date }}</span>
        </li>
      </ul>
    </mat-card>
  </div>

  <!-- Most Viewed Movies -->
  <div class="most-viewed-card">
    <mat-card class="most-viewed-card-inner">
      <h2>Most Viewed Movies</h2>
      <ul>
        <li *ngFor="let movie of mostViewedMovies">
          <span class="content-title truncate-text">{{ movie.title }}</span>
          <span class="content-views">{{ movie.views }} views</span>
        </li>
      </ul>
    </mat-card>
  </div>

  <!-- Recent Transactions -->
  <div class="transactions-card">
    <mat-card class="transactions-card-inner">
      <h2>Recent Transactions</h2>
      <table class="transaction-table">
        <thead>
          <tr>
            <th>User ID</th>
            <th>Plan</th>
            <th>Price</th>
            <th class="hide-mobile">Start</th>
            <th class="hide-mobile">End</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="recentTransactions.length === 0">
            <td colspan="6" class="text-center">No recent transactions found.</td>
          </tr>
          <tr *ngFor="let txn of recentTransactions">
            <td>{{ txn.user_id }}</td>
            <td>{{ txn.plan_name }}</td>
<td><i class="bi bi-currency-dollar"></i>{{ txn.price | number:'1.2-2'}}</td>

            <td class="hide-mobile">{{ txn.start_date | date:'MMM d, y' }}</td>
            <td class="hide-mobile">{{ txn.end_date | date:'MMM d, y' }}</td>
            <td>
              <span class="badge" [ngClass]="{
                'badge-enabled': txn.status === '1' || txn.status === 1,
                
              }">
                {{ txn.status == 1 ? 'Premium' : '' }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </mat-card>
  </div>

</div>
