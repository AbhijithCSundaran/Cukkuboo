<div class="content-container">
  <div class="header-row" style="display: flex; justify-content: space-between; align-items: center;">
    <h2>Global Notifications List</h2>

   <!-- Add New Button -->
    <button class="add-button" [routerLink]="['/add-global-notifications']">+ New</button>
  </div>

  <!-- Search Bar -->
  <div class="width-50 search-bar-wrapper">
    <mat-form-field class="custom-search" appearance="outline">
      <mat-icon matPrefix>search</mat-icon>
      <input
        matInput
        placeholder="Search"
        (keyup)="applyGlobalFilter($event)"
      />
    </mat-form-field>
  </div>

  <!-- Table -->
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z2 custom-table">

    <!-- Sl. No -->
    <ng-container matColumnDef="slNo">
      <th mat-header-cell *matHeaderCellDef> Sl. No. </th>
      <td mat-cell *matCellDef="let row; let i = index">
        {{ i + 1 + (pageIndex * pageSize) }}
      </td>
    </ng-container>

    <!-- Title -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Title </th>
      <td mat-cell *matCellDef="let row"> {{ row.title }} </td>
    </ng-container>

    <!-- Type -->
    <!-- <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef> Type </th>
      <td mat-cell *matCellDef="let row"> {{ row.type }} </td>
    </ng-container> -->

    <!-- Target -->
    <ng-container matColumnDef="target">
      <th mat-header-cell *matHeaderCellDef> Target </th>
      <td mat-cell *matCellDef="let row"> {{ row.target }} </td>
    </ng-container>

    <!-- Scheduled -->
    <ng-container matColumnDef="is_scheduled">
      <th mat-header-cell *matHeaderCellDef> Scheduled </th>
      <td mat-cell *matCellDef="let row">
        {{ row.is_scheduled === '1' ? 'Yes' : 'No' }}
      </td>
    </ng-container>

    <!-- Date -->
    <ng-container matColumnDef="created_on">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let row"> {{ row.created_on | date: 'mediumDate' }} </td>
    </ng-container>

    <!-- Action Column -->
<ng-container matColumnDef="action">
  <th mat-header-cell *matHeaderCellDef> Action </th>
  <td mat-cell *matCellDef="let row">
    <mat-icon class="icon" [routerLink]="['/edit-global-notifications', row.notification_id]">
      edit
    </mat-icon>
  </td>
</ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <!-- No Data Found -->
  <div class="no-data" *ngIf="dataSource.data.length === 0">
    No Global Notifications found.
  </div>

  <!-- Pagination -->
  <div class="pagination-wrapper">
    <mat-paginator
      class="pagination"
      [length]="totalItems"
      [pageSize]="pageSize"
      [pageSizeOptions]="[10, 20, 50]"
      showFirstLastButtons>
    </mat-paginator>
  </div>
</div>
