<div class="content-container">
  <div class="header-row">
    <h2>{{ ticketId ? 'Edit Ticket' : 'Add Ticket' }}</h2>
    <button class="back-to-list-button" (click)="goBack()">Back to List</button>
  </div>

  <form [formGroup]="ticketForm">
    <mat-card appearance="outlined" class="form-card">
      <mat-card-content class="d-flex flex-wrap">
        <!-- Name -->
        <div class="w-50 px-2 pb-3">
          <label class="display-label">Name</label>
          <div class="display-value">{{ ticketForm.get('name')?.value }}</div>
        </div>

        <!-- Phone -->
        <div class="w-50 px-2 pb-3">
          <label class="display-label">Phone</label>
          <div class="display-value">
            {{ ticketForm.get('countryCode')?.value }} {{ ticketForm.get('phone')?.value }}
          </div>
        </div>

        <!-- Email -->
        <div class="w-50 px-2 pb-3">
          <label class="display-label">Email</label>
          <div class="display-value">{{ ticketForm.get('email')?.value }}</div>
        </div>

        <!-- Issue Type -->
        <div class="w-50 px-2 pb-3">
          <label class="display-label">Issue Type</label>
          <div class="display-value">{{ ticketForm.get('issue_type')?.value }}</div>
        </div>

        <!-- Description + Status -->
        <div class="d-flex w-100 px-2 pb-3 flex-wrap align-items-start">
          <!-- Description -->
          <div class="w-50 pe-2">
            <label class="display-label">Description</label>
            <div class="display-value small-description">
              {{ ticketForm.get('description')?.value }}
            </div>
          </div>

          <!-- Status -->
          <div class="w-50 ps-2">
            <label class="display-label">Status</label>
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Status</mat-label>
              <mat-select formControlName="status">
                <mat-option value="1">Pending</mat-option>
                <mat-option value="2">OnHold</mat-option>
                <mat-option value="3">Closed</mat-option>
                <mat-option value="9">Deleted</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <!-- Screenshot + Status (preserved layout) -->
        <div class="d-flex w-100 px-2 pb-3 flex-wrap align-items-start">
          <!-- Screenshot Preview-->
          <div class="w-50 screenshot-wrapper" *ngIf="screenshotUrl">
            <label class="display-label">Screenshot</label>
            <div class="display-value screenshot-container">
              <img
                [src]="screenshotUrl"
                alt="Screenshot"
                class="screenshot-img"
                (click)="openFullScreen()" />
              <button class="fullscreen-btn" (click)="openFullScreen()" type="button" mat-icon-button>
                <mat-icon fontIcon="fullscreen" style="color: white; font-size: 20px;"></mat-icon>
              </button>
            </div>
          </div>
        </div>

        <!-- Save Button -->
        <div class="save">
          <button mat-raised-button color="primary" class="save-button" (click)="saveTicket()">Save</button>
        </div>
      </mat-card-content>
    </mat-card>
  </form>
</div>
